<!DOCTYPE html>
<html lang="en">
	<head>
		<style>
			body {
				background-color: black;
				color: white;
				font-family: Arial, sans-serif;
				min-width: 100vw;
			}
			#editor {
				border-radius: 8px;
				background-color: rgb(30, 30, 30);
				min-width: 100vw;
			}
		</style>
	</head>
	<body>
		<script src="audioEditor.js"></script>
		<script src="audioExporter.js"></script>
		<h1>Audio Editor</h1>
		<p>I've been trying to think of ways to refine it, and I've also been watching YouTube videos, which is the reason why I barely worked on anything. But finally, the audio editor is here!</p>
		Current Audio File: <input type="file" id="aud" accept=".wav, .mp3, .ogg, .flac, .aac, .weba"><div id="editor"></div>
		<script>
			const audioContext = new (window.AudioContext || window.webkitAudioContext)();
			const audioInput = document.getElementById("aud");
			let exporters = [];
			audioInput.oninput = function(eve) {
				if (eve.target.files.length === 0) return;
				const firstFile = eve.target.files[0];
				const fileReader = new FileReader(firstFile);
				fileReader.onload = function(event) {
					try {
						const buffer = audioContext.decodeAudioData(event.target.result);
						const channel = buffer.getChannelData(0);
						exporters.push(new AudioExporter(channel, buffer.sampleRate, 1, 32));
					} catch {
						alert("The audio could not be properly loaded! Due to the strip-aways from viewing metadata that are unhelpful, we cannot provide much info on what exactly failed.");
					}
				}
				fileReader.readAsArrayBuffer();
			}
		</script>
	</body>
</html>
